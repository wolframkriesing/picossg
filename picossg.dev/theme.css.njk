{% set dark_and_light = {
  '--primary-color': ['#0f0', '#007700'],
  '--primary-hover': ['white', '#005500'],
  '--text-color': ['#0f0', '#333'],
  '--bg-primary': ['#111', '#fff'],
  '--bg-secondary': ['#000', '#f5f5f5'],
  '--bg-tertiary': ['#1a1a1a', '#e8e8e8'],
  '--border-color': ['#333', '#ddd'],
  '--code-bg': ['#000', '#f8f8f8'],
  '--code-text': ['#ff8', '#d73a49'],
  '--blockquote-text': ['#aaa', '#666'],
  '--crt-overlay': ['rgba(0, 0, 0, 0.25)', 'rgba(200, 200, 200, 0.1)'],
  '--body-after-opacity': ['0.15', '0.05']
} %}

/**
 * The default is the dark mode, define all cases here.
 * The 
 * - case 1 is `:root` the default, 
 * - case 2 "[data-theme="dark"]" is when it is explicitly set (via JS), see end of this file.
 */
:root {
  {% for key, value in dark_and_light %}
    {{ key }}: {{ value[0] }};
  {% endfor %}
  
  --sidebar-width: 280px;
  --theme-toggle-bg: var(--bg-secondary);
  --theme-toggle-border: var(--border-color);
  --theme-toggle-text: var(--text-color);
}

/**
 * Light mode styles, again 2 cases,
 * - case 1 `@media (prefers-color-scheme: light)` the user prefers light mode, this provided by the browser/OS.
 * - case 2 "[data-theme="light"]" is when it is explicitly set (via JS).
 */
@media (prefers-color-scheme: light) {
  :root {
    {% for key, value in dark_and_light %}
      {{ key }}: {{ value[1] }};
    {% endfor %}
  }
  
  body::after {
    opacity: var({{ dark_and_light['--body-after-opacity'][1] }});
  }
}

[data-theme="light"] {
  {% for key, value in dark_and_light %}
    {{ key }}: {{ value[1] }};
  {% endfor %}
}

[data-theme="light"] body::after {
  opacity: var({{ dark_and_light['--body-after-opacity'][1] }});
}

/**
 * This MUST be below `@media (prefers-color-scheme: light)` otherwise the light mode
 * styles would always be used if the user prefers light mode.
 */
[data-theme="dark"] {
  {% for key, value in dark_and_light %}
    {{ key }}: {{ value[0] }};
  {% endfor %}
}

[data-theme="dark"] body::after {
  opacity: var({{ dark_and_light['--body-after-opacity'][0] }});
}
